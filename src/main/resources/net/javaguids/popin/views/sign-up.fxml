<?xml version="1.0" encoding="UTF-8"?>
<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>
<?import javafx.collections.FXCollections?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="net.javaguids.popin.controllers.SignUpController"
           stylesheets="@../styles.css"
           alignment="CENTER">

    <VBox spacing="20" alignment="CENTER">
        <VBox styleClass="login-card">

            <Label text="Create Account" styleClass="title"/>

            <TextField fx:id="usernameField"
                       promptText="Username"
                       styleClass="text-field"
                       maxWidth="250"/>

            <PasswordField fx:id="passwordField"
                           promptText="Password"
                           styleClass="password-field"
                           maxWidth="250"/>

            <!-- Dropdown for role -->
            <ComboBox fx:id="roleComboBox"
                      promptText="Select your role"
                      maxWidth="250"
                      styleClass="text-field">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="attendee"/>
                        <String fx:value="organizer"/>
                        <String fx:value="admin"/>
                    </FXCollections>
                </items>
            </ComboBox>

            <!-- Admin access code (hidden unless role = admin) -->
            <VBox fx:id="adminCodeBox"
                  spacing="5"
                  alignment="CENTER_LEFT"
                  visible="false"
                  managed="false"
                  maxWidth="250">
                <Label text="Admin Access Code"
                       styleClass="subtitle"/>
                <PasswordField fx:id="adminCodeField"
                               promptText="Enter admin code"
                               maxWidth="250"
                               styleClass="password-field"/>
            </VBox>

            <Label fx:id="errorLabel"
                   textFill="red"
                   wrapText="true"
                   style="-fx-padding: 0 10 0 10;"/>

            <!-- ðŸ”¹ give this an fx:id so controller can disable it -->
            <Button fx:id="signUpButton"
                    text="Sign Up"
                    onAction="#handleSignUp"
                    styleClass="login-button"
                    maxWidth="250"/>

            <Hyperlink text="Already have an account? Log in"
                       onAction="#goToLogin"
                       styleClass="link-text"/>

        </VBox>
    </VBox>
</StackPane>